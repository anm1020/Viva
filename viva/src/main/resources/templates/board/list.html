<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê²Œì‹œíŒ ëª©ë¡</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
   	<link rel="stylesheet" th:href="@{/css/common.css}">
    <style>
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background-color: #f0f0f0; }
    </style>

</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>


<!-- â”€â”€â”€ ê³µì§€ + ê²Œì‹œíŒ í†µí•© í…Œì´ë¸” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <h2>ê²Œì‹œíŒ</h2>
  <table>
    <thead>
      <tr>
        <th>No</th>
        <th>ì œëª©</th>
        <th>ì‘ì„±ì</th>
        <th>ì‘ì„±ì¼</th>
        <th>ì¡°íšŒìˆ˜</th>
      </tr>
    </thead>
    <tbody>
      <!-- 1) ê³µì§€ 3ê±´ -->
      <tr th:each="n : ${latestNotices}" class="notice-row">
  <td>ğŸ“¢ ê³µì§€</td>
  <td>
    <a th:href="@{/board/notice/{id}(id=${n.noticeId})}"
       th:text="${n.title}">ê³µì§€ ì œëª©</a>
  </td>
  <td>ê´€ë¦¬ì</td>
  <td th:text="${#temporals.format(n.createdAt,'yyyy-MM-dd HH:mm')}">
    2025-07-14 01:07
  </td>
  <td th:text="${n.viewCount}">0</td>
</tr>

      <!-- 2) ì¼ë°˜ ê²Œì‹œê¸€ -->
      <tr th:each="board : ${boardPage.content}">
        <td th:text="${board.id}">14</td>
        <td>
          <a th:href="@{/board/view/{id}(id=${board.id})}"
             th:text="${board.title}">ê²Œì‹œê¸€ ì œëª©</a>
        </td>
        <td th:text="${board.userId}">gugu</td>
        <td th:text="${#temporals.format(board.createdAt,'yyyy-MM-dd HH:mm')}">
          2025-07-15 19:57
        </td>
        <td th:text="${board.viewCount}">12</td>
      </tr>

      <!-- 3) ê²Œì‹œê¸€ì´ í•˜ë‚˜ë„ ì—†ì„ ë•Œ -->
      <tr th:if="${#lists.isEmpty(boardPage.content)}">
        <td colspan="5">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</td>
      </tr>
    </tbody>
  </table>
<!--ê²€ìƒ‰ë°” -->
<!-- ê²€ìƒ‰ í¼ (í…Œì´ë¸” ì•„ë˜) -->
<form th:action="@{/board/list}" method="get" style="margin-top: 10px;">
  <select name="type">
    <option value="title" th:selected="${type == 'title'}">ì œëª©</option>
    <option value="content" th:selected="${type == 'content'}">ë‚´ìš©</option>
    <option value="userId" th:selected="${type == 'userId'}">ì‘ì„±ì</option>
  </select>

  <input type="text" name="keyword" th:value="${keyword}" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" />
  
  <!-- ê¸°ì¡´ ì •ë ¬ê°’ ìœ ì§€ì‹œí‚¤ë ¤ë©´ hidden ì¶”ê°€ -->
  <input type="hidden" name="sort" th:value="${sort}" />

  <button type="submit">ê²€ìƒ‰</button>
</form>

	<!-- âœ… í˜ì´ì§• ì˜ì—­ -->
	<div style="text-align:center; margin-top:20px;">
    <span th:if="${boardPage.hasPrevious()}">
        <a th:href="@{/board/list(page=${boardPage.number - 1}, type=${type}, keyword=${keyword})}">ì´ì „</a>
    </span>

    <span th:text="${boardPage.number + 1} + ' / ' + ${boardPage.totalPages}">1 / 1</span>

    <span th:if="${boardPage.hasNext()}">
        <a th:href="@{/board/list(page=${boardPage.number + 1}, type=${type}, keyword=${keyword})}">ë‹¤ìŒ</a>
    </span>
</div>

	<br>
	<a th:href="@{/board/write}">ê¸€ì“°ê¸°</a>

</body>
</html>
